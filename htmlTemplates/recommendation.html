<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
	<div class="login">
		<div class="login-screen">
			<div class="app-title">
				<h1>Na jakiej podstawie chciałbyś otrzymać rekomendacje?</h1>
			</div>
            <div class="control-group">
                <form action="/titleRecommendation" method="GET" id="titleForm">
                    <label class="genre-field-icon fui-genre" for="title"></label>
					    <input type="text" placeholder="Wpisz tytuł" name="title" id="title" value="{{ title }}" required>
                    <button type="submit" value="titleButton" class="btn btn-primary btn-large btn-block">Wyszukaj po tytule</button>
                </form>
            </div>
            <div class="control-group">
                <form action="/descriptionRecommendation" method="GET" id="descriptionForm">
                    <label class="genre-field-icon fui-genre" for="description"></label>
					    <input type="text" placeholder="Wpisz opis" name="description" id="description" value="{{ description }}" required>
                    <button type="submit" value="descriptionButton" class="btn btn-primary btn-large btn-block">Wyszukaj po opisie</button>
                </form>
            </div>
            <style>
                table.dataframe th {
                    text-align: left;
                }
            </style>
            <h2>Rekomendacje: </h2>
            <div>
                <form action="/filterRecommendations" method="GET" onsubmit="updateHiddenFields()">
                    <label class="genre-field-icon fui-genre" for="filter"></label>
					    <input type="text" placeholder="Filtruj..." name="filter" id="filter" value="{{ filter }}" required>
                        <input type="hidden" name="hiddenTitle" id="hiddenTitle">
                        <input type="hidden" name="hiddenDescription" id="hiddenDescription">
                    <button type="submit" value="filterButton" class="btn btn-primary btn-large btn-block">Zastosuj</button>
                </form>
            </div>
                 {% for title in titles %}
                    {{ tables[loop.index0]|safe }}
                 {% endfor %}
      </div>
        <script>
        function updateHiddenFields() {
            var titleField = document.getElementById('titleForm').elements['title'].value;
            var descriptionField = document.getElementById('descriptionForm').elements['description'].value;

            document.getElementById('hiddenTitle').value = titleField;
            document.getElementById('hiddenDescription').value = descriptionField;
            return true;
        }
        </script>
    </div>
   </div>
</html>